{"version":3,"sources":["webpack:///src/views/src/views/Home.vue"],"names":[],"mappings":"AA+QA,8BACA,eACA","file":"app.ce0a8f01.css","sourcesContent":["<template>\n  <v-container fluid justify-start>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title class=\"headline\">\n                {{ $t(\"Países do mundo\") }}\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"6\">\n        <v-card class=\"mx-auto\"\n          ><v-row>\n            <v-col cols=\"12\">\n              <v-data-table\n                :headers=\"headers\"\n                :items=\"dataList\"\n                :disable-pagination=\"false\"\n                :hide-default-footer=\"false\"\n                :loading=\"loading\"\n                @click:row=\"handleClick\"\n                :search=\"search\"\n                :custom-filter=\"filterText\"\n                loading-text=\"A carregar lista de paises do mundo...\"\n              >\n                <!-- <template v-slot:[`item.name`]=\"{ item }\">\n                {{ item.name.text }}\n              </template> --><template v-slot:top>\n                  <v-text-field\n                    v-model=\"search\"\n                    label=\"Pesquisar\"\n                    class=\"mx-4\"\n                  ></v-text-field>\n                </template>\n                <template v-slot:[`item.languages`]=\"{ item }\">\n                  {{\n                    item.languages\n                      .map(function(e) {\n                        return e.name;\n                      })\n                      .join(\", \")\n                  }}\n                </template>\n                <template v-slot:[`item.currencies`]=\"{ item }\">\n                  {{\n                    item.currencies\n                      .map(function(e) {\n                        return e.name;\n                      })\n                      .join(\", \")\n                  }}\n                </template>\n              </v-data-table>\n            </v-col></v-row\n          >\n        </v-card>\n      </v-col>\n      <v-col cols=\"6\">\n        <v-card class=\"mx-auto\">\n          <v-row>\n            <v-col cols=\"12\" v-if=\"loadingWeather\">\n              <v-skeleton-loader\n                v-bind=\"attrs\"\n                type=\"list-item-avatar, divider, list-item-three-line, image\"\n              ></v-skeleton-loader>\n            </v-col>\n\n            <v-col\n              cols=\"12\"\n              v-else-if=\"!loadingWeather && selected.info.name !== ``\"\n            >\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-list-item>\n                    <v-list-item-content style=\"border-bottom: 1px solid;\">\n                      <v-list-item-title class=\"headline\">\n                        <img\n                          alt=\"flag\"\n                          :src=\"selected.info.flag\"\n                          width=\"45\"\n                          height=\"30\"\n                        />\n\n                        {{ selected.info.name }}\n                      </v-list-item-title>\n                    </v-list-item-content>\n                  </v-list-item>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"6\">\n                  <v-list-item>\n                    <v-list-item-content>\n                      <v-list-item>\n                        Capital: {{ selected.info.capital }}\n                      </v-list-item>\n                      <v-list-item>\n                        Região: {{ selected.info.region }}\n                      </v-list-item>\n                      <v-list-item>\n                        Área: {{ selected.info.area }}\n                      </v-list-item>\n                      <v-list-item>\n                        Idioma(s):\n                        {{\n                          selected.info.languages\n                            .map(function(e) {\n                              return e.name;\n                            })\n                            .join(\", \")\n                        }}\n                      </v-list-item>\n                      <v-list-item>\n                        População: {{ selected.info.population }}\n                      </v-list-item>\n                      <v-list-item>\n                        Moeda(s):\n                        {{\n                          selected.info.currencies\n                            .map(function(e) {\n                              return e.name;\n                            })\n                            .join(\", \")\n                        }}\n                      </v-list-item>\n                      <v-list-item>\n                        ICAO: {{ selected.info.alpha3Code }}\n                      </v-list-item>\n                      <v-list-item>\n                        Latitude: {{ selected.info.latlng[0] }}\n                      </v-list-item>\n                      <v-list-item\n                        >Longitude:\n                        {{ selected.info.latlng[1] }}\n                      </v-list-item>\n                      <v-list-item>\n                        Timezones: {{ selected.info.timezones.join(\", \") }}\n                      </v-list-item>\n                    </v-list-item-content>\n                  </v-list-item>\n                </v-col>\n                <v-col cols=\"6\" v-if=\"selected.weather !== null\">\n                  <v-row\n                    style=\"display: table-cell;    vertical-align: middle; text-align: center;\"\n                  >\n                    <v-col cols=\"12\">\n                      <v-list-item-content>\n                        <v-list-item class=\"display-1\"\n                          ><v-img\n                            width=\"100\"\n                            max-width=\"100\"\n                            :src=\"\n                              getWeatherIcon(selected.weather.weather[0].icon)\n                            \"\n                          ></v-img>\n                          {{ selected.weather.main.temp }}&deg;C</v-list-item\n                        >\n                        <v-list-item\n                          >Humidade:\n                          {{ selected.weather.main.humidity }}</v-list-item\n                        ><v-list-item\n                          >Neblusidade:\n                          {{ selected.weather.clouds.all }}%</v-list-item\n                        >\n                        <v-list-item\n                          >Vento: {{ selected.weather.wind.speed }}</v-list-item\n                        >\n                      </v-list-item-content>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n            </v-col>\n\n            <v-col cols=\"12\" v-else>\n              <v-list-item two-line>\n                <v-list-item-content>\n                  <v-list-item-title>\n                    Por favor, seleccione um país <br />para carregar a sua\n                    informação...\n                  </v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-col></v-row\n          >\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { getListOfCountries, getCountryInformation } from \"@/api/requests\";\nexport default {\n  name: \"Home\",\n  components: {},\n  data: () => ({\n    loading: true,\n    loadingWeather: false,\n    search: \"\",\n    selected: {\n      info: { name: \"\", capital: \"\" },\n      weather: null\n    },\n    attrs: {\n      class: \"mb-6\",\n      boilerplate: true,\n      elevation: 2\n    },\n    headers: [\n      {\n        text: \"Nome\",\n        sortable: false,\n        value: \"name\"\n      },\n      {\n        text: \"ICAO\",\n        sortable: false,\n        value: \"alpha3Code\"\n      }\n    ],\n    dataList: []\n  }),\n  computed: {\n    theme() {\n      return this.$vuetify.theme.dark ? \"dark\" : \"light\";\n    }\n  },\n  mounted() {\n    getListOfCountries().then(response => {\n      //console.log(response);\n      this.dataList = response.map(element => {\n        //console.log(element.info);\n        return element.info;\n      });\n      this.loading = false;\n    });\n  },\n  methods: {\n    getWeatherIcon(icon) {\n      return \"http://openweathermap.org/img/w/\" + icon + \".png\";\n    },\n    handleClick(value) {\n      //console.log(value);\n      this.loadingWeather = true;\n      getCountryInformation(value.alpha3Code).then(response => {\n        console.log(response);\n        this.selected = Object.assign({}, response);\n\n        this.loadingWeather = false;\n      });\n    },\n    filterText(value, search, item) {\n      item;\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().indexOf(search) !== -1\n      );\n    }\n  }\n};\n</script>\n<style scoped>\n.v-list-item {\n  min-height: 30px;\n}\n</style>\n"]}